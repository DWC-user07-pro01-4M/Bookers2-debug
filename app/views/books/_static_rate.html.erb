<!--応用課題７D・私の記述-->
<!--<div id="star-rate<= @book.id%>"></div>-->
<!--  <script>-->
<!--    $('#star-rate<= @book.id %>').empty();-->
<!--    $('#star-rate<= @book.id%>').raty({-->
<!--      size      : 36,-->
<!--      starOff   : '<#%= asset_path('star-off.png') %>',-->
<!--      starOn    : '<#%= asset_path('star-on.png') %>',-->
<!--      half      : false,-->
<!--      readOnly: true,-->
<!--      score: <= @book.star %>,-->
<!--    });-->
<!--  </script>-->

<!--模範回答-->
<div id="rate_<%= book.id %>"></div>
<script>
$(document).on('turbolinks:load', function() {
  let elem = document.querySelector('#rate_<%= book.id %>');
  if (elem == null) return;

  elem.innerHTML = "";
  let opt = {
    starOn: "<%= asset_path('star-on.png') %>",
    starOff: "<%= asset_path('star-off.png') %>",
    starHalf: "<%= asset_path('star-half.png') %>",
    score: "<%= book.star %>",
    readOnly: true,
  };
  raty(elem, opt);
});
</script>